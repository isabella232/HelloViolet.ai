---
layout: docs
title: 'JSDoc: Class: VioletStoreSF'
---


  <h1 class="page-title">Class: VioletStoreSF</h1>


<div id="generatedNav" style="display:none">
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-conversationEngine.html">conversationEngine</a></li><li><a href="module-flowScriptCompiler.html">flowScriptCompiler</a></li><li><a href="module-outputMgr.html">outputMgr</a></li><li><a href="module-response.html">response</a></li><li><a href="module-scriptParser.html">scriptParser</a></li><li><a href="module-utils.html">utils</a></li><li><a href="module-violet.html">violet</a></li><li><a href="module-violetList.html">violetList</a></li><li><a href="module-violetSrvr.html">violetSrvr</a></li><li><a href="module-violetStorePG.html">violetStorePG</a></li><li><a href="module-violetStoreSF.html">violetStoreSF</a></li><li><a href="module-violetTime.html">violetTime</a></li></ul><h3>Classes</h3><ul><li><a href="AlexaPlatform.html">AlexaPlatform</a></li><li><a href="module-conversationEngine-ConversationEngine.html">ConversationEngine</a></li><li><a href="module-conversationEngine-IntentMgr.html">IntentMgr</a></li><li><a href="module-conversationEngine-PlatformMgr.html">PlatformMgr</a></li><li><a href="module-conversationEngine-PlatformPlugin.html">PlatformPlugin</a></li><li><a href="module-conversationEngine-PlatformReq.html">PlatformReq</a></li><li><a href="module-flowScriptCompiler-FlowScriptCompiler.html">FlowScriptCompiler</a></li><li><a href="module-outputMgr-OutputMgr.html">OutputMgr</a></li><li><a href="module-response-Response.html">Response</a></li><li><a href="module-scriptParser-ScriptParser.html">ScriptParser</a></li><li><a href="module-violetList-ListWidget.html">ListWidget</a></li><li><a href="module-violetList-listWidget_.html">listWidget</a></li><li><a href="module-violetStorePG-VioletStorePG.html">VioletStorePG</a></li><li><a href="module-violetStoreSF-VioletStoreSF.html">VioletStoreSF</a></li><li><a href="StorePlugin.html">StorePlugin</a></li></ul><h3>Events</h3><ul><li><a href="global.html#event:(unnamed)">(unnamed)</a></li><li><a href="module-conversationEngine.html#~event:closeSession">closeSession</a></li><li><a href="global.html#event:Howdy">Howdy</a></li><li><a href="global.html#event:HowWork">HowWork</a></li><li><a href="global.html#event:Intro">Intro</a></li><li><a href="global.html#event:MajorIntent">MajorIntent</a></li><li><a href="global.html#event:setAlert">setAlert</a></li><li><a href="module-violetTime.html#~event:timeFwd">timeFwd</a></li><li><a href="module-violetTime.html#~event:timeReq">timeReq</a></li><li><a href="global.html#event:unsetAlert">unsetAlert</a></li><li><a href="global.html#event:WakeUp">WakeUp</a></li></ul>
</div>

<div class="codeDocs">
{% raw %}





<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>
            <span class="ancestors"><a href="module-violetStoreSF.html">violetStoreSF</a>~</span>VioletStoreSF<span class="signature">()</span><span class="type-signature"></span></h2>
        
            <div class="class-description">Implements support for the core operations supported by Violet (for
Force.com).</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="VioletStoreSF"><span class="type-signature"></span>new VioletStoreSF<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="violet-conversations_lib_violetStoreSF.js.html">violet-conversations/lib/violetStoreSF.js</a>, <a href="violet-conversations_lib_violetStoreSF.js.html#line57">line 57</a>
    </li></ul></dd>
    

    

    

    
</dl>


















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="delete"><span class="type-signature"></span>delete<span class="signature">(objName, keyName, keyVal)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Deletes given object in the underlying data store.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>objName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the object/table name in the data store where
  the give object is to be deleted</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>keyName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the key name to find the object to be deleted</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>keyVal</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">the key value to find the object to be deleted</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="violet-conversations_lib_violetStoreSF.js.html">violet-conversations/lib/violetStoreSF.js</a>, <a href="violet-conversations_lib_violetStoreSF.js.html#line324">line 324</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Promise that resolves when the data has been deleted in
  the store
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>resolve: function *(response) {
  var caseObj = ...
  yield response.delete('Case*', 'CaseNumber*', caseObj.CaseNumber);
  response.say( `Case ${caseObj.Subject} has been removed`);
}</code></pre>



        
            

    

    
    <h4 class="name" id="load"><span class="type-signature"></span>load<span class="signature">(queryParams)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Retrieves given object from the underlying data store.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>queryParams</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">query parameters
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>objName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the object/table name in the data
  store where the give object is to be updated</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>keyName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the key name to find the object to be updated</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>keyVal</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the key value to find the object to be updated</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>query</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the SOQL query, i.e. what gets executed is "SELECT <query>"</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">additional query results filter - this
 is added to the end of the SQL query</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>queryXtra</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">additional bits to be
 added to the end of the query, for example "LIMIT 100". "LIMIT 100" is auto added.
 Use false to prevent auto adding, for example when using aggregate queries.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="violet-conversations_lib_violetStoreSF.js.html">violet-conversations/lib/violetStoreSF.js</a>, <a href="violet-conversations_lib_violetStoreSF.js.html#line148">line 148</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Promise that resolves with the data
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    




    <h5>Examples</h5>
    
        <p class="code-caption">performing a raw (SOQL) query</p>
    
    <pre class="prettyprint"><code>resolve: function *(response) {
  var results = yield response.load({
    query: "CreatedDate, Status__c, Verified__c FROM Automated_Tests__c WHERE Status__c = 'New'  limit 100"
  });
  response.say(`Found ${results.length} tests`);
});</code></pre>

        <p class="code-caption">query with parameters as needed</p>
    
    <pre class="prettyprint"><code>violetSFStore.store.propOfInterest = {
  'Automated_Tests': ['Name*', 'Status', 'Verified']
};
...
resolve: function *(response) {
  var results = yield response.load({
    objName: 'Automated_Tests',
    keyName: 'Status',
    keyVal: 'New'
  });
  response.say(`Found ${results.length} tests`);
});</code></pre>

        <p class="code-caption">basic query</p>
    
    <pre class="prettyprint"><code>violetSFStore.store.propOfInterest = {
  'Automated_Tests': ['Name*', 'Status', 'Verified']
};
...
resolve: function *(response) {
  var results = yield response.load('Automated_Tests', 'Status', 'New');
  response.say(`Found ${results.length} tests`);
});</code></pre>



        
            

    

    
    <h4 class="name" id="search"><span class="type-signature"></span>search<span class="signature">(objName, searchStr)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Does a search
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>objName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the object/table name which is to be searched</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>searchStr</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the search string to look up</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="violet-conversations_lib_violetStoreSF.js.html">violet-conversations/lib/violetStoreSF.js</a>, <a href="violet-conversations_lib_violetStoreSF.js.html#line194">line 194</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Promise that resolves when the data has been found
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>violetSFStore.store.propOfInterest = {
 'KnowledgeArticleVersion*': ['Id*', 'Title*', 'Summary*', 'UrlName*', 'LastPublishedDate*']
}
...
yield violetSFStore.store.search('KnowledgeArticleVersion*', 'security')</code></pre>



        
            

    

    
    <h4 class="name" id="store"><span class="type-signature"></span>store<span class="signature">(objName, dataToStore)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Adds given object to the underlying data store.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>objName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the object/table name in the data store where
  the give object is to be stored</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dataToStore</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">the object to be written (i.e. a set of
  key:value pairs)</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="violet-conversations_lib_violetStoreSF.js.html">violet-conversations/lib/violetStoreSF.js</a>, <a href="violet-conversations_lib_violetStoreSF.js.html#line247">line 247</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Promise that resolves when the data has been written in
  the store
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>resolve: function *(response) {
  var caseObj = ...
  yield response.store('CaseComment*', {
    'CommentBody*': 'Text String',
    'ParentId*': caseObj.Id
  });
  response.say(`Case ${caseObj.Subject} has comment added`);
}</code></pre>



        
            

    

    
    <h4 class="name" id="update"><span class="type-signature"></span>update<span class="signature">(objName, keyName, keyVal, updateData)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Updates given object in the underlying data store.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>objName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the object/table name in the data store where
  the give object is to be updated</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>keyName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the key name to find the object to be updated</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>keyVal</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">the key value to find the object to be updated</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>updateData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">the object values to be updated (i.e. a set of
  key:value pairs)</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="violet-conversations_lib_violetStoreSF.js.html">violet-conversations/lib/violetStoreSF.js</a>, <a href="violet-conversations_lib_violetStoreSF.js.html#line281">line 281</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Promise that resolves when the data has been updated in
  the store
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>resolve: function *(response) {
  var caseObj = ...
  yield response.update('Case*', 'CaseNumber*', caseObj.CaseNumber, {
      'Priority*': response.get('casePriority')
  });
  response.say( `Case ${caseObj.Subject} has priority updated to [[casePriority]]`);
}</code></pre>



        
    

    

    
</article>

</section>




{% endraw %}
</div>


<footer class="container">
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Aug 15 2019 22:21:31 GMT-0400 (EDT)
</footer>

<script> /*prettyPrint();*/ </script>
<!-- script src="scripts/linenumber.js"> </script -->
<script>
  // prism-ize: add language type and line-numbers
  var codeEntries = document.getElementsByTagName('pre');
  for (var ndx=0; ndx<codeEntries.length; ndx++) {
    var node = codeEntries[ndx];
    if (node.children.length!=1 && node.children[0].tagName!='CODE') continue;
    if (!node.className.match(/lang/)) node.className += ' language-javascript'
    if (node.className.match(/linenums/)) node.className += ' line-numbers'
  }
  // changes '<h3 class="subsection-title">Events</h3>'==><h3 class="subsection-title">Intents</h3>
  var headingEntries = document.getElementsByTagName('h3');
  for (var ndx=0; ndx<headingEntries.length; ndx++) {
    var node = headingEntries[ndx];
    if (node.className !== 'subsection-title') continue;
    if (node.textContent == 'Events') node.textContent = 'Intents';
  }
</script>